<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Navegador GenÃ´mico</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Navegador GenÃ´mico ğŸ§¬</h1>
  </header>

  <main id="main">
    <div class="tabs">
      <div class="tab active" data-tab="load">ğŸ“‚ Carregar</div>
      <div class="tab" data-tab="info">ğŸ“Š InformaÃ§Ãµes</div>
      <div class="tab" data-tab="annotations">ğŸ§¾ AnotaÃ§Ãµes</div>
      <div class="tab" data-tab="sequence">ğŸ” SequÃªncia</div>
      <div class="tab" data-tab="viewer">ğŸ“ˆ VisualizaÃ§Ã£o</div>
    </div>

    <!-- Aba Carregar -->
    <div id="tab-load" class="tab-content">
      <h3>Carregar arquivos</h3>
      <div class="file-loader">
        <div class="file-input">
          <label for="fnaInput">Arquivo .fna:</label>
          <input type="file" id="fnaInput" accept=".fna,.fa,.fasta" />
        </div>
        <div class="file-input">
          <label for="gffInput">Arquivo .gff (opcional):</label>
          <input type="file" id="gffInput" accept=".gff,.gff3" />
        </div>
        <div class="file-actions">
          <button id="loadBtn">ğŸš€ Carregar genoma</button>
        </div>
      </div>

      <div class="loaded-block">
        <h4>Genomas carregados</h4>
        <div class="loaded-row">
          <select id="genomeSelector"></select>
          <button id="setActiveBtn">Ativar</button>
        </div>
        <div id="fileInfo" class="muted"></div>
      </div>
    </div>

    <!-- Aba InformaÃ§Ãµes -->
    <div id="tab-info" class="tab-content hidden">
      <h3>InformaÃ§Ãµes do genoma ativo</h3>
      <div class="info-grid">
        <div><span class="label">ID:</span> <span id="infoId">â€”</span></div>
        <div><span class="label">Tamanho:</span> <span id="infoLength">â€”</span></div>
        <div><span class="label">AnotaÃ§Ãµes carregadas:</span> <span id="infoHasGff">â€”</span></div>
      </div>

      <h4>Resumo das anotaÃ§Ãµes</h4>
      <div class="info-grid">
        <div><span class="label">Genes:</span> <span id="infoGenesCount">â€”</span></div>
        <div><span class="label">mRNA:</span> <span id="infoMrnaCount">â€”</span></div>
        <div><span class="label">CDS:</span> <span id="infoCdsCount">â€”</span></div>
        <div><span class="label">Regulatory:</span> <span id="infoRegCount">â€”</span></div>
      </div>

      <pre id="output" class="muted">Nenhum genoma carregado.</pre>
    </div>

    <!-- Aba AnotaÃ§Ãµes -->
    <div id="tab-annotations" class="tab-content hidden">
      <h3>AnotaÃ§Ãµes</h3>
      <table id="annotationTable">
        <thead>
          <tr>
            <th>Genes</th>
            <th>mRNA</th>
            <th>CDS</th>
            <th>Regulatory</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td id="geneCol"></td>
            <td id="mrnaCol"></td>
            <td id="cdsCol"></td>
            <td id="regCol"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Aba SequÃªncia -->
    <div id="tab-sequence" class="tab-content hidden">
      <h3>SequÃªncia</h3>
      <textarea id="seqView" rows="12" readonly></textarea>
    </div>

    <!-- Aba VisualizaÃ§Ã£o -->
    <div id="tab-viewer" class="tab-content hidden">
      <div class="viewer-header">
        <h3>VisualizaÃ§Ã£o estilo navegador genÃ´mico</h3>
        <div class="active-id">Genoma ativo: <span id="activeGenomeId">â€”</span></div>
      </div>

      <div class="controls">
        <div class="control-group">
          <button id="zoomInBtn">ğŸ”+</button>
          <button id="zoomOutBtn">ğŸ”-</button>
          <button id="panLeftBtn">â¬…ï¸</button>
          <button id="panRightBtn">â¡ï¸</button>
          <button id="resetZoomBtn">â†º Reset</button>
        </div>
        <div class="control-group">
          <label for="gotoInput">Ir para (posiÃ§Ã£o ou gene):</label>
          <input type="text" id="gotoInput" placeholder="ex.: 150000 ou lacZ" />
          <button id="gotoBtn">Ir</button>
        </div>
        <div class="control-group">
          <span id="viewLabel">Janela: â€”</span>
        </div>
        <div class="control-group">
          <button id="saveImgBtn">ğŸ’¾ Salvar imagem</button>
        </div>
      </div>

      <canvas id="genomeCanvas" width="1200" height="500"></canvas>
    </div>
  </main>

  <script src="app.js"></script>
</body>
</html>
